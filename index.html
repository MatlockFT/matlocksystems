<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MATLOCK SCORING SYSTEM</title>
    <style>
        /* Base Styling */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #1c1c1c;
            color: #fff;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }

        .scorecard {
            background-color: #2c2c2c;
            padding: 20px;
            border-radius: 15px;
            width: 90%;
            max-width: 800px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        h2 {
            text-align: center;
            margin-bottom: 20px;
            font-size: 28px;
            color: #ff6347;
        }

        /* Universal Input and Button Styles */
        input, button, select {
            padding: 10px;
            font-size: 16px;
            text-align: center;
            border-radius: 5px;
            border: none;
            outline: none;
        }

        input {
            background-color: #444;
            color: #f5f5f5;
        }

        button {
            cursor: pointer;
            background-color: #f1c40f;
            color: #fff;
            transition: background-color 0.3s;
        }

        button:hover {
            background-color: #ff6347;
        }

        .green-field {
            background-color: #27ae60 !important;
            color: #fff;
        }

        /* Hashtag Section */
        .hashtag-container {
            display: flex;
            justify-content: center;
            width: 100%;
            margin-bottom: 20px;
        }

        .hashtag-container input {
            width: 50%;
        }

        .hashtag-container input::placeholder {
            color: #888;
        }

        /* Corners Section */
        .corners {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 20px;
        }

        .corners input {
            flex: 1;
            margin: 0 10px;
            background-color: #444;
            color: #f5f5f5;
        }

        /* Toggle Switch Section */
        .toggle-container {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 20px;
        }

        .toggle-container label {
            margin-right: 10px;
        }

        .switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 34px;
        }

        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 34px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 26px;
            width: 26px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .slider {
            background-color: #27ae60;
        }

        input:checked + .slider:before {
            transform: translateX(26px);
        }

        /* Round and Criteria Sections */
        .round {
            background-color: #333;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 15px;
        }

        .criteria {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
            width: 100%;
        }

        .criteria div {
            width: 30%;
        }

        /* Tooltip Styling */
        .tooltip-container {
            text-align: center;
            width: 30%;
        }

        .tooltip-icon {
            cursor: pointer;
            font-size: 14px;
            color: #ff6347;
        }

        .tooltip .tooltiptext {
            visibility: hidden;
            width: 200px;
            background-color: #444;
            color: #fff;
            text-align: center;
            border-radius: 5px;
            padding: 5px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            margin-left: -100px;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }

        /* Total Score Section */
        .total-score {
            text-align: center;
            margin-top: 20px;
            font-size: 20px;
            font-weight: bold;
        }

        .total-score span {
            display: block;
        }

        .results {
            text-align: center;
            background-color: #444;
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
        }

        /* Version Info */
        .version-info {
            position: absolute;
            bottom: 10px;
            right: 10px;
            font-size: 12px;
            color: #888;
        }

        /* Responsive Design */
        @media (min-width: 768px) {
            .scorecard {
                width: 700px;
                padding: 30px;
            }

            .hashtag-container input {
                width: 60%;
            }

            h2 {
                font-size: 36px;
            }
        }

        @media (min-width: 1024px) {
            .scorecard {
                width: 800px;
                padding: 40px;
            }

            .hashtag-container input {
                width: 70%;
            }

            h2 {
                font-size: 40px;
            }
        }
    </style>
</head>
<body>
    <div class="scorecard">
        <h2>MATLOCK SCORING SYSTEM</h2>

        <div class="hashtag-container">
            <input type="text" id="hashtag" placeholder="Enter event, for example #UFC300, #RIZIN100, #UFCAPEX" oninput="autoAddHashtag()">
        </div>

        <div class="corners">
            <input type="text" id="redCornerName" placeholder="Enter Red Corner Name">
            <button id="lockInButton" onclick="lockInNames()">LOCK IN</button>
            <input type="text" id="blueCornerName" placeholder="Enter Blue Corner Name">
        </div>

        <div class="toggle-container">
            <label for="championshipFightToggle">Five Round Fight</label>
            <label class="switch">
                <input type="checkbox" id="championshipFightToggle">
                <span class="slider"></span>
            </label>
        </div>

        <div id="round1" class="round active">
            <h3 id="roundHeading">Round 1</h3>

            <!-- Damage -->
            <div class="criteria">
                <div class="select-red">
                    <label for="damageRed-round1">Damage by Red Corner</label>
                    <select id="damageRed-round1">
                        <option value="">Select Damage</option>
                        <option value="0">0 - No effective damage</option>
                        <option value="1">1 - Minor damage</option>
                        <option value="2">2 - Visible damage</option>
                        <option value="3">3 - Significant damage</option>
                    </select>
                </div>

                <div class="tooltip-container">
                    <div class="tooltip">
                        <span class="tooltip-icon">ⓘ</span>
                        <span class="tooltiptext">Damage refers to effective strikes that significantly impact your opponent.</span>
                    </div>
                </div>

                <div class="select-blue">
                    <label for="damageBlue-round1">Damage by Blue Corner</label>
                    <select id="damageBlue-round1">
                        <option value="">Select Damage</option>
                        <option value="0">0 - No effective damage</option>
                        <option value="1">1 - Minor damage</option>
                        <option value="2">2 - Visible damage</option>
                        <option value="3">3 - Significant damage</option>
                    </select>
                </div>
            </div>

            <!-- Control -->
            <div class="criteria">
                <div class="select-red">
                    <label for="controlRed-round1">Control by Red Corner</label>
                    <select id="controlRed-round1">
                        <option value="">Select Control</option>
                        <option value="0">0 - No control</option>
                        <option value="1">1 - Brief control</option>
                        <option value="2">2 - Majority control</option>
                        <option value="3">3 - Complete control</option>
                    </select>
                </div>

                <div class="tooltip-container">
                    <div class="tooltip">
                        <span class="tooltip-icon">ⓘ</span>
                        <span class="tooltiptext">Control refers to dominance in the fight, including ground control and overall pressure exerted.</span>
                    </div>
                </div>

                <div class="select-blue">
                    <label for="controlBlue-round1">Control by Blue Corner</label>
                    <select id="controlBlue-round1">
                        <option value="">Select Control</option>
                        <option value="0">0 - No control</option>
                        <option value="1">1 - Brief control</option>
                        <option value="2">2 - Majority control</option>
                        <option value="3">3 - Complete control</option>
                    </select>
                </div>
            </div>

            <!-- Defense -->
            <div class="criteria">
                <div class="select-red">
                    <label for="defenseRed-round1">Defense by Red Corner</label>
                    <select id="defenseRed-round1">
                        <option value="">Select Defense</option>
                        <option value="0">0 - Ineffective defense</option>
                        <option value="1">1 - Minimal defense</option>
                        <option value="2">2 - Effective defense</option>
                        <option value="3">3 - Excellent defense</option>
                    </select>
                </div>

                <div class="tooltip-container">
                    <div class="tooltip">
                        <span class="tooltip-icon">ⓘ</span>
                        <span class="tooltiptext">Defense refers to the ability to evade strikes, block attacks, and counter effectively.</span>
                    </div>
                </div>

                <div class="select-blue">
                    <label for="defenseBlue-round1">Defense by Blue Corner</label>
                    <select id="defenseBlue-round1">
                        <option value="">Select Defense</option>
                        <option value="0">0 - Ineffective defense</option>
                        <option value="1">1 - Minimal defense</option>
                        <option value="2">2 - Effective defense</option>
                        <option value="3">3 - Excellent defense</option>
                    </select>
                </div>
            </div>

            <button class="submit-button" onclick="submitRound()">Submit Round 1</button>
            <button class="reset-button" onclick="resetScorecard()">Reset Scorecard</button>
            <button class="share-scorecard-button" onclick="shareScorecard()">Share My Scorecard</button>
        </div>

        <div class="results" id="results">
            <h3>Results</h3>
        </div>

        <div class="total-score">
            <span id="redCornerTotal">Red Corner Total Score: 0</span>
            <span id="blueCornerTotal">Blue Corner Total Score: 0</span>
            <span id="winnerAnnouncement"></span>
        </div>

        <div class="version-info">
            V.1.0
        </div>
    </div>

    <script>
        let currentRound = 1;
        let championshipFight = false;
        let redTotalScore = 0;
        let blueTotalScore = 0;
        const maxRounds = 5;
        const normalRounds = 3;

        function toggleChampionshipFight() {
            championshipFight = document.getElementById('championshipFightToggle').checked;
        }

        function lockInNames() {
            const redCornerName = document.getElementById('redCornerName').value.trim();
            const blueCornerName = document.getElementById('blueCornerName').value.trim();
            const hashtagField = document.getElementById('hashtag');

            if (!redCornerName || !blueCornerName) {
                alert("Please enter both fighter names.");
                return;
            }

            // Lock the fighter names, hashtag, and toggle switch
            document.getElementById('redCornerName').disabled = true;
            document.getElementById('blueCornerName').disabled = true;
            hashtagField.disabled = true;
            document.getElementById('championshipFightToggle').disabled = true;

            // Apply green field style
            document.querySelectorAll('#redCornerName, #blueCornerName, #hashtag').forEach(input => {
                input.classList.add('green-field');
            });

            document.getElementById('lockInButton').textContent = "Locked In".toUpperCase();
            document.getElementById('lockInButton').classList.add("locked");

            updateLabelsWithNames(redCornerName, blueCornerName, currentRound);
            championshipFight = document.getElementById('championshipFightToggle').checked;
        }

        function updateLabelsWithNames(redCornerName, blueCornerName, round) {
            // Updates labels dynamically (extend for other criteria if needed)
            document.getElementById(`damageRed-round${round}`).previousElementSibling.textContent = `Damage by ${redCornerName}`;
            document.getElementById(`damageBlue-round${round}`).previousElementSibling.textContent = `Damage by ${blueCornerName}`;
        }

        function submitRound() {
            const redCornerName = document.getElementById('redCornerName').value;
            const blueCornerName = document.getElementById('blueCornerName').value;

            const redScore = calculateScore('Red');
            const blueScore = calculateScore('Blue');

            redTotalScore += redScore;
            blueTotalScore += blueScore;

            const roundWinner = redScore > blueScore ? redCornerName : blueScore > redScore ? blueCornerName : 'Draw';
            document.getElementById('results').innerHTML += `
                <div class="round-result">
                    <strong>Round ${currentRound} To ${roundWinner}:</strong><br>
                    ${redCornerName}: ${redScore.toFixed(1)} (${redTotalScore.toFixed(1)})<br>
                    ${blueCornerName}: ${blueScore.toFixed(1)} (${blueTotalScore.toFixed(1)})
                </div>
            `;

            updateTotalScores();
            prepareNextRoundOrEndFight();
        }

        function calculateScore(color) {
            const damage = parseInt(document.getElementById(`damage${color}-round${currentRound}`).value) || 0;
            const control = parseInt(document.getElementById(`control${color}-round${currentRound}`).value) || 0;
            const defense = parseInt(document.getElementById(`defense${color}-round${currentRound}`).value) || 0;

            return (damage * 0.5) + (control * 0.3) + (defense * 0.2);
        }

        function updateTotalScores() {
            document.getElementById('redCornerTotal').textContent = `Red Corner Total Score: ${redTotalScore.toFixed(1)}`;
            document.getElementById('blueCornerTotal').textContent = `Blue Corner Total Score: ${blueTotalScore.toFixed(1)}`;
        }

        function prepareNextRoundOrEndFight() {
            const roundsLimit = championshipFight ? maxRounds : normalRounds;
            currentRound++;

            if (currentRound <= roundsLimit) {
                resetRoundSelects(currentRound);
                createNewRound(currentRound);
            } else {
                declareWinner();
                document.querySelector('.submit-button').disabled = true;
                document.querySelector('.share-scorecard-button').style.display = "block";
            }
        }

        function createNewRound(round) {
            const roundDiv = document.createElement('div');
            roundDiv.id = `round${round}`;
            roundDiv.classList.add('round', 'active');
            roundDiv.innerHTML = document.getElementById('round1').innerHTML.replace(/round1/g, `round${round}`);
            document.querySelector('.scorecard').insertBefore(roundDiv, document.getElementById('results'));

            updateLabelsWithNames(document.getElementById('redCornerName').value, document.getElementById('blueCornerName').value, round);
        }

        function declareWinner() {
            const winnerAnnouncement = document.getElementById('winnerAnnouncement');
            if (redTotalScore > blueTotalScore) {
                winnerAnnouncement.textContent = `Winner: ${document.getElementById('redCornerName').value}`;
            } else if (blueTotalScore > redTotalScore) {
                winnerAnnouncement.textContent = `Winner: ${document.getElementById('blueCornerName').value}`;
            } else {
                winnerAnnouncement.textContent = "It's a Draw!";
            }
        }

        function resetScorecard() {
            document.querySelectorAll('input, select').forEach(element => {
                element.value = '';
                element.disabled = false;
                element.classList.remove('green-field');
            });

            redTotalScore = 0;
            blueTotalScore = 0;
            document.getElementById('redCornerTotal').textContent = "Red Corner Total Score: 0";
            document.getElementById('blueCornerTotal').textContent = "Blue Corner Total Score: 0";
            document.getElementById('winnerAnnouncement').textContent = "";
            document.getElementById('results').innerHTML = "<h3>Results</h3>";
            document.querySelector('.submit-button').disabled = false;
            document.querySelector('.share-scorecard-button').style.display = "none";

            currentRound = 1;
            document.getElementById('roundHeading').textContent = "Round 1";
            document.querySelector('.round.active').classList.remove('active');
            document.getElementById('round1').classList.add('active');
            document.getElementById('lockInButton').textContent = "LOCK IN";
            document.getElementById('lockInButton').classList.remove("locked");

            if (championshipFight) {
                document.getElementById('championshipFightToggle').disabled = true;
            }
        }

        function autoAddHashtag() {
            const hashtagField = document.getElementById('hashtag');
            if (!hashtagField.value.startsWith('#')) {
                hashtagField.value = '#' + hashtagField.value.replace('#', '');
            }
        }
    </script>
</body>
</html>
